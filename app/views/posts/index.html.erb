<p id="notice"><%= notice %></p>
<p id="alert"><%= alert %></p>

<div class="container">
    <div class="row">
        <h1 class="col-12">Posts </h1>
        <div class="card col-6">
            <div class="card-body">
                <h5 class="card-title">Buscador por TÃ­tulo</h5>
                <input type="text" name="buscador" id="buscador" class="form-control" >
            </div>

        </div>
        <div class="card col-6">
            <div class="card-body">
                    <h5 class="card-title">Agregar nuevo Post</h5>
                    <%= render 'form', post: @post %>
                </div>
            </div>
        </div>

        <br>


        <div class="col-12">
            <table  class="table table-fullwidth table-hover">
                <thead>
                    <th>Title</th>
                    <th>Content</th>
                    <th>No Comments</th>
                    <th colspan="3"></th>
                </thead>
                <tbody id="lista">
                    <%= render @posts %>
                </tbody>
            </table>            
        </div>
    </div>
</div>

<%= render 'modal' %>

<script>
  $('#buscador').keyup(function () {
    var searchQuery = $('#buscador').val();
    
        $.ajax({
        type: "GET",
        url: "<%= posts_path %>",
        data: { buscador: searchQuery }
        });
    
  });
</script>